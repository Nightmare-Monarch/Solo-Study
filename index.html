<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>üó°Ô∏è Solo Study Tracker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <h1 class="title">üó°Ô∏è Solo Study Tracker</h1>

    <div class="motivation">
      <p id="motivationQuote">‚ÄúStudy hard, shine later!‚Äù</p>
    </div>

        <!-- Dashboard cards -->
        <div class="stats-container main-dashboard">
          <div class="stat-box">
            <h2>Total Study Hours</h2>
            <p id="totalHoursMain">0h</p>
          </div>
          <div class="stat-box">
            <h2>Total Marks</h2>
            <p id="totalMarksMain">0</p>
          </div>
          <div class="stat-box">
            <h2>Total XP</h2>
            <p id="totalXPMain">0</p>
          </div>
        </div>
    
    <div class="menu top-menu">
      <a href="history.html" class="menu-btn curved-btn">üìú History</a>
      <a href="progress.html" class="menu-btn curved-btn">üìà Progress</a>
      <a href="stopwatch.html" class="menu-btn curved-btn">‚è±Ô∏è Stopwatch</a>
    </div>


    <div class="input-section">
      <input id="sessionInput" placeholder="e.g. sin 2h pp  OR  sin 1h H  OR  sin 1h V" />
      <button class="btn curved-btn" onclick="handleSessionInput()">Add Session</button>
    </div>

    <div id="subjectContainer" class="subjects"></div>

    <div class="total-bar">
      <strong>Total Marks: <span id="totalMarksBottom">0</span> / 900</strong>
      <div class="progress full-marks">
        <div id="fullMarksFill" class="progress-fill"></div>
      </div>

      <strong>Total XP: <span id="totalXPBottom">0</span> / 50000</strong>
      <div class="progress full-xp">
        <div id="fullXPFill" class="progress-fill"></div>
      </div>
    </div>

    <div id="bottomButtons">
      <button class="btn curved-btn" id="undoBtn" onclick="undo()">Undo</button>
      <button class="btn curved-btn" id="redoBtn" onclick="redo()">Redo</button>
      <button class="btn curved-btn" id="resetBtn" onclick="resetAll()">Reset All</button>
    </div>
  </div>

  <script src="script.js"></script>
  <script>
    // update main page dashboard cards
    function updateMainDashboard(){
      const totalHours = dailyProgress.reduce((sum,d)=>sum+d.hours,0);
      const totalMarks = subjects.reduce((sum,s)=>sum+s.marks,0);
      const totalXP = subjects.reduce((sum,s)=>sum+s.xp,0);

      document.getElementById("totalHoursMain").textContent = totalHours.toFixed(1) + "h";
      document.getElementById("totalMarksMain").textContent = totalMarks.toFixed(1);
      document.getElementById("totalXPMain").textContent = Math.floor(totalXP);
    }

    // call after UI update
    const originalUpdateUI = updateUI;
    updateUI = function(){
      originalUpdateUI();
      updateMainDashboard();
    };
  </script>
</body>
</html>
