<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>üìú Study Progress Summary</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">

    <h1 class="title">üìú Progress Summary</h1>

    <div class="menu top-menu">
      <a href="index.html" class="menu-btn curved-btn">üè† Back to Home</a>
    </div>

    <div id="progressContainer" class="subjects"></div>

    <div class="total-bar">
      <strong>Total Marks: <span id="totalMarks">0</span> / 900</strong>
      <div class="progress full-marks">
        <div id="fullMarksFill" class="progress-fill marks"></div>
      </div>

      <strong>Total XP: <span id="totalXP">0</span> / 100000</strong>
      <div class="progress full-xp">
        <div id="fullXPFill" class="progress-fill xp"></div>
      </div>
    </div>

  </div>

  <script>
    const subjects = JSON.parse(localStorage.getItem("subjects")) || [];
    const totalXP = parseFloat(localStorage.getItem("totalXP")) || 0;

    const container = document.getElementById("progressContainer");
    subjects.sort((a, b) => b.marks - a.marks);

    subjects.forEach((s, i) => {
      const div = document.createElement("div");
      div.className = "subject";
      div.innerHTML = `
        <strong>${i + 1}. ${s.name}</strong> - Marks: ${s.marks.toFixed(1)}
        <div class="progress marks-bar">
          <div class="progress-fill marks" style="width:${s.marks}%;"></div>
        </div>
      `;
      container.appendChild(div);
    });

    const totalMarks = subjects.reduce((a, b) => a + b.marks, 0);
    document.getElementById("totalMarks").textContent = totalMarks.toFixed(1);
    document.getElementById("fullMarksFill").style.width = (totalMarks / 900 * 100) + "%";
    document.getElementById("totalXP").textContent = totalXP.toFixed(0);
    document.getElementById("fullXPFill").style.width = (totalXP / 100000 * 100) + "%";
  </script>
</body>
</html>
